<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Тестовое: Пошаговая Игра «РОГАЛИК» (ES5)</title>
  <link rel="stylesheet" href="styles/style.css"/>

  <style>
    .topbar{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:16px;
      flex-wrap:wrap;
    }
    .topbar-left{
      min-width: 400px;
      flex: 1 1 auto;
    }
    .topbar-right{
      display:flex;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }
    .topbar-right .legend{
      margin:0;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .topbar-right #restartBtn{
      white-space:nowrap;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div class="topbar">
        <div class="topbar-left">
          <h1>Пошаговая игра «РОГАЛИК»</h1>

          <div class="hud">
            <div class="stat"><span>Здоровье:</span> <strong id="hpText">100 / 100</strong></div>
            <div class="stat"><span>Урон героя:</span> <strong id="atkText">10</strong></div>

            <div class="stat"><span>Уровень:</span> <strong id="lvlText">Lv 1</strong></div>
            <div class="stat">
              <span>Опыт:</span>
              <strong id="xpText">0 / 1</strong>
              <div class="xpbar"><i id="xpFill" style="width:0%"></i></div>
            </div>

            <div class="stat"><span>Ход:</span> <strong id="turnText">Герой</strong></div>
          
            <button id="restartBtn" type="button">Перегенерировать карту</button>
            <div class="legend">
              <span class="legend-item wall">стена</span>
              <span class="legend-item floor">пол</span>
              <span class="legend-item hero">герой</span>
              <span class="legend-item enemy">противник</span>
              <span class="legend-item sword">меч</span>
              <span class="legend-item potion">зелье</span>
            </div>
          </div>

          <details class="help">
            <summary>Управление</summary>
            <ul>
              <li>W/A/S/D — движение (вверх/влево/вниз/вправо)</li>
              <li>Пробел — атаковать всех противников на соседних клетках</li>
            </ul>
          </details>
        </div>
      </div>
    </header>

    <main>
      <div class="game">
        <aside id="initiative" class="initiative" aria-label="Порядок хода врагов"></aside>
        <div id="field" class="field" aria-label="Игровое поле" role="grid"></div>
      </div>
    </main>
  </div>

  <!-- Core -->
  <script src="src/core/constants.js"></script>
  <script src="src/core/rng.js"></script>
  <script src="src/core/utils.js"></script>

  <!-- Systems -->
  <script src="src/systems/placement.js"></script>
  <script src="src/systems/map.js"></script>
  <script src="src/systems/entities.js"></script>
  <script src="src/systems/fx.js"></script>
  <script src="src/systems/turn.js"></script>

  <!-- UI -->
  <script src="src/ui/render.js"></script>
  <script src="src/ui/input.js"></script>

  <!-- Entry -->
  <script src="src/main.js"></script>
</body>
</html>
