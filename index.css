/* Минимальный чистый стиль; без внешних библиотек */
:root {
  --tile: 24px;
  --cols: 40;
  --rows: 24;
  --gap: 1px;
  --bg: #0f1115;
  --card: #121621;
  --border: #2a3142;
  --muted: #8aa1b1;
  --hero: #3ddc97;
  --enemy: #ff6b6b;
  --sword: #ffd166;
  --potion: #7bb2ff;
  --floor: #1b2130;
  --wall: #0b0e14;
}

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1000px 600px at 50% -200px, #1a2031, #0e121c 60%, #0a0d14 100%);
  color: #e9eef6;
}
.wrap { max-width: 980px; margin: 24px auto; padding: 0 16px; }
.top h1 { margin: 0 0 8px; font-size: 20px; }
.hud { display: flex; gap: 16px; flex-wrap: wrap; color: var(--muted); }
.hud .stat span { opacity: .8; margin-right: 6px; }
.help { margin-top: 8px; color: var(--muted); }

.field {
  margin-top: 16px;
  display: grid;
  grid-template-columns: repeat(var(--cols), var(--tile));
  grid-template-rows: repeat(var(--rows), var(--tile));
  gap: var(--gap);
  background: var(--border);
  padding: var(--gap);
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,.3), inset 0 0 0 1px rgba(255,255,255,.02);
}

.tile {
  width: var(--tile);
  height: var(--tile);
  position: relative;
  border-radius: 4px;
  display: inline-block;
}
.tile.wall { background: var(--wall); }
.tile.floor { background: var(--floor); }

/* Акценты сущностей — рамка/иконка поверх пола */
.tile.hero::after,
.tile.enemy::after,
.tile.sword::after,
.tile.potion::after {
  content: "";
  position: absolute;
  inset: 3px;
  border-radius: 3px;
  outline: 1px solid rgba(255,255,255,.08);
  box-shadow: inset 0 0 0 2px rgba(255,255,255,.04);
}
.tile.hero { background: linear-gradient(135deg, #17232a 0%, #122b21 100%); }
.tile.hero::after { background: radial-gradient(circle at 50% 45%, rgba(61,220,151,.35), transparent 60%); border: 1px solid rgba(61,220,151,.35); }
.tile.enemy { background: linear-gradient(135deg, #2a1717 0%, #231318 100%); }
.tile.enemy::after { background: radial-gradient(circle at 50% 45%, rgba(255,107,107,.40), transparent 60%); border: 1px solid rgba(255,107,107,.38); }
.tile.sword { background: linear-gradient(135deg, #2a2717 0%, #231f13 100%); }
.tile.sword::after { background: radial-gradient(circle at 50% 45%, rgba(255,209,102,.40), transparent 60%); border: 1px solid rgba(255,209,102,.35); }
.tile.potion { background: linear-gradient(135deg, #162133 0%, #121a29 100%); }
.tile.potion::after { background: radial-gradient(circle at 50% 45%, rgba(123,178,255,.45), transparent 60%); border: 1px solid rgba(123,178,255,.38); }

/* Полоска здоровья внутри клетки (для героя/врагов) */
.health {
  position: absolute;
  left: 2px; right: 2px; bottom: 2px;
  height: 4px;
  background: rgba(255,255,255,.08);
  border-radius: 3px;
  overflow: hidden;
}
.health > i {
  display: block; height: 100%;
  background: linear-gradient(90deg, #ff6b6b, #ffd166, #3ddc97);
  width: 100%;
}

/* Легенда и нижняя панель */
.bottom {
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px; margin-top: 16px;
}
button {
  background: var(--card); color: #e9eef6; border: 1px solid var(--border);
  padding: 8px 12px; border-radius: 10px; cursor: pointer;
}
button:hover { border-color: #3b4763; }
.legend { display: flex; gap: 8px; flex-wrap: wrap; color: var(--muted); }
.legend-item { display: inline-flex; align-items: center; gap: 6px; padding: 4px 8px; border: 1px dashed var(--border); border-radius: 999px; }
.legend-item.wall { background: var(--wall); }
.legend-item.floor { background: var(--floor); }
.legend-item.hero { background: #122b21; outline: 1px solid rgba(61,220,151,.3); }
.legend-item.enemy { background: #231318; outline: 1px solid rgba(255,107,107,.3); }
.legend-item.sword { background: #231f13; outline: 1px solid rgba(255,209,102,.3); }
.legend-item.potion { background: #121a29; outline: 1px solid rgba(123,178,255,.3); }
